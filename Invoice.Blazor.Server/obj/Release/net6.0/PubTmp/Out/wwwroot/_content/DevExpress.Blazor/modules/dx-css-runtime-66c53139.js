class e{constructor(e,t,o){this.defaultValueSource=e,this.computedValueSource=t,this.valueDestination=o}}const t=[new e("--bs-body-bg","background-color","--dxbl-body-bg"),new e("--bs-body-color","color","--dxbl-body-color")],o=["--primary","--bs-primary"],r=document.createElement("link");function n(){const e=document.body,o=window.getComputedStyle(e);t.forEach((t=>{e.style.removeProperty(t.valueDestination)})),t.filter((e=>!o.getPropertyValue(e.defaultValueSource))).forEach((t=>{e.style.setProperty(t.valueDestination,o.getPropertyValue(t.computedValueSource))}))}function a(e,t){if(0===t)return e();const r=window.getComputedStyle(document.body);if(o.map((e=>!!r.getPropertyValue(e))).reduce(((e,t)=>e||t),!1))return e();setTimeout((()=>a(e,t-1)),200)}function u(e){return new Promise(((t,o)=>{const n=r.cloneNode(!1);n.href=e;const u=e=>{n.remove(),a(t,50)};n.onload=u,n.onerror=u,document.head.append(n)}))}async function s(e){if(e.nodeType===Node.ELEMENT_NODE){const t=e;if("LINK"===t.tagName){const e=t;if("stylesheet"===e.rel)return await u(e.href),!0}}return!1}function c(e){s(e).then((e=>{e&&n()}))}r.rel="preload",r.as="style";const d={initializeThemeCssRuntimeVariables:function(){const e=document.head;new MutationObserver(((e,t)=>{for(const t of e)"childList"===t.type&&t.addedNodes?t.addedNodes.forEach(c):"attributes"===t.type&&"href"===t.attributeName&&c(t.target)})).observe(e,{attributes:!0,childList:!0,subtree:!0}),Promise.all(Array.from(document.head.childNodes).map((e=>s(e)))).then((()=>n()))}};export{d as default};
